# Project Structure

## Overview
This document describes the production-ready structure of the Certificate Issuance and Verification System.

## Directory Layout

```
hello/
├── src/
│   ├── backend/                    # Motoko backend smart contracts
│   │   ├── main.mo                # Main canister with API endpoints
│   │   ├── Types.mo               # Type definitions
│   │   ├── Utils.mo               # Utility functions
│   │   ├── MerkleTree.mo          # Merkle tree operations
│   │   ├── CertificateManager.mo  # Certificate business logic
│   │   └── PerformanceMetrics.mo  # Performance tracking
│   ├── frontend/                   # React/Vite web application
│   │   ├── src/                   # Source files (React components)
│   │   │   ├── App.jsx           # Main React component
│   │   │   ├── main.jsx          # React entry point
│   │   │   └── components/       # UI components
│   │   ├── public/                # Static assets (images, icons)
│   │   ├── dist/                  # Build output (generated by Vite)
│   │   ├── index.html             # Entry HTML
│   │   ├── package.json           # Frontend dependencies
│   │   ├── tsconfig.json          # TypeScript config
│   │   └── vite.config.js         # Vite bundler config
│   └── declarations/              # Auto-generated Candid bindings (DO NOT EDIT)
│       ├── credential_backend/    # Backend canister interfaces
│       └── credential_frontend/   # Frontend canister interfaces
├── benchmarks/                     # Performance testing scripts
│   ├── single.sh                  # Single operation tests
│   ├── batch_issue.sh             # Batch issuance tests
│   ├── batch_verify.sh            # Batch verification tests
│   ├── stress_test.sh             # System stress tests
│   └── README.md                  # Benchmark documentation
├── docs/                           # Project documentation
│   ├── ARCHITECTURE.md            # System architecture
│   ├── MODULE_DESIGN.md           # Module design diagrams
│   ├── MERKLE_TREE.md             # Merkle tree implementation
│   ├── PERFORMANCE.md             # Performance analysis
│   ├── DASHBOARD.md               # Dashboard user guide
│   └── VERIFICATION.md            # Trustless verification
├── dashboard.html                  # Performance metrics dashboard
├── dfx.json                        # DFX configuration
├── package.json                    # Root package config
├── tsconfig.json                   # Root TypeScript config
└── README.md                       # Main project README
```

## Key Files

### Configuration Files
- **dfx.json**: Internet Computer configuration, defines canisters
- **package.json**: Node.js dependencies and scripts
- **tsconfig.json**: TypeScript compiler configuration

### Backend (Motoko)
- **main.mo**: Main canister entry point with 9 performance API endpoints
- **Types.mo**: All type definitions (Certificate, University, Metrics, etc.)
- **Utils.mo**: Helper functions (hash, current time, validation)
- **MerkleTree.mo**: Merkle tree construction and proof generation
- **CertificateManager.mo**: Core certificate issuance and verification logic
- **PerformanceMetrics.mo**: Performance tracking with nanosecond precision

### Frontend (React/Vite)
- **src/frontend/**: Complete web application for certificate management
  - **src/**: React components and application code
  - **public/**: Static assets (favicon, images)
  - **dist/**: Built artifacts (generated by `npm run build`)
- Referenced by dfx.json for canister deployment

### Declarations (Auto-Generated)
- **src/declarations/**: Candid interface bindings (auto-generated by DFX)
  - **DO NOT EDIT MANUALLY** - regenerated on each `dfx deploy`
  - Provides TypeScript/JavaScript bindings for canister communication
  - One folder per canister (credential_backend, credential_frontend)
  - Contains `.did` (Candid interface), `.did.d.ts` (TypeScript types), `.did.js` (JS bindings)

### Documentation
- **docs/ARCHITECTURE.md**: System design and module structure
- **docs/MERKLE_TREE.md**: Cryptographic implementation details
- **docs/PERFORMANCE.md**: Benchmark results and analysis
- **docs/DASHBOARD.md**: How to use the metrics dashboard

### Tools
- **benchmarks/**: Shell scripts for performance testing
- **dashboard.html**: Standalone metrics visualization page

## Canister Architecture

### credential_backend
- **Type**: Motoko
- **Source**: src/backend/main.mo
- **Purpose**: Certificate management and performance tracking

### credential_frontend
- **Type**: Assets
- **Source**: src/frontend/dist (build output)
- **Workspace**: src/frontend (source code)
- **Purpose**: Web UI for certificate operations

## Development Workflow

1. **Start Local Replica**
   ```bash
   dfx start --background
   ```

2. **Deploy Canisters**
   ```bash
   dfx deploy
   ```

3. **Run Benchmarks**
   ```bash
   ./benchmarks/single.sh
   ./benchmarks/batch_issue.sh 50
   ```

4. **View Metrics**
   ```bash
   open dashboard.html
   ```

5. **Build Frontend**
   ```bash
   cd src/frontend
   npm run build
   ```

## File Naming Conventions

- **Backend modules**: PascalCase.mo (Types.mo, MerkleTree.mo)
- **Documentation**: UPPERCASE.md (README.md, ARCHITECTURE.md)
- **Scripts**: lowercase_underscore.sh (batch_issue.sh, stress_test.sh)
- **Config files**: lowercase.json (dfx.json, package.json)

## Production Deployment

For production deployment on the Internet Computer mainnet:

1. Update dfx.json with production network settings
2. Build frontend with production environment variables
3. Deploy to mainnet: `dfx deploy --network ic`
4. Configure custom domain for frontend canister
5. Set up monitoring and alerting

## Clean Structure Benefits

✅ **Organized**: Clear separation between backend, frontend, docs, and tools  
✅ **Scalable**: Easy to add new modules or features  
✅ **Maintainable**: Sensible naming and logical grouping  
✅ **Production-Ready**: No test files or duplicates in main structure  
✅ **Well-Documented**: Comprehensive docs in dedicated folder  

## Removed Files

The following files were removed during restructuring:
- `test_merkle.sh` - Obsolete test script
- `load_test.sh` - Replaced by benchmarks/batch_*.sh
- `test_modular.sh` - Development test script
- `performance_dashboard.html` - Duplicate dashboard
- `src/backend/main_old.mo.backup` - Backup file
- `src/backend/main_modular.mo` - Duplicate file
- `load_test_results_*.txt` - Old test results

All scattered markdown files were consolidated into the `docs/` folder with clearer names.
