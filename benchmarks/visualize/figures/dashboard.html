<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ICP Credential Verification — Benchmark Dashboard</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4/dist/chart.umd.min.js"></script>
<style>
  *{box-sizing:border-box;margin:0;padding:0}
  body{font-family:'Segoe UI',sans-serif;background:#f1f5f9;color:#1e293b}
  header{background:linear-gradient(135deg,#1d4ed8,#7c3aed);color:#fff;padding:2rem}
  header h1{font-size:1.6rem;font-weight:700}
  header p{margin-top:.5rem;opacity:.85;font-size:.95rem}
  .meta{font-size:.8rem;opacity:.7;margin-top:.3rem}
  main{max-width:1400px;margin:2rem auto;padding:0 1.5rem}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(420px,1fr));gap:1.5rem}
  .card{background:#fff;border-radius:12px;padding:1.5rem;
        box-shadow:0 2px 8px rgba(0,0,0,.08)}
  .card h2{font-size:1rem;font-weight:600;color:#374151;margin-bottom:1rem;
           border-bottom:2px solid #e0f2fe;padding-bottom:.5rem}
  .kpi-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:2rem}
  .kpi{background:#fff;border-radius:10px;padding:1.2rem;
       box-shadow:0 2px 8px rgba(0,0,0,.07);text-align:center}
  .kpi .value{font-size:2rem;font-weight:800;color:#2563eb}
  .kpi .unit{font-size:.75rem;color:#64748b;margin-top:.2rem}
  .kpi .label{font-size:.85rem;color:#374151;margin-top:.3rem}
  canvas{max-height:260px}
  footer{text-align:center;padding:2rem;font-size:.8rem;color:#64748b}
  .badge{display:inline-block;background:#dbeafe;color:#1d4ed8;
         border-radius:6px;padding:.15rem .5rem;font-size:.75rem;margin-left:.5rem}
</style>
</head>
<body>
<header>
  <h1>ICP Academic Credential Verification</h1>
  <p>Benchmark Dashboard — Internet Computer Protocol (ICP) Performance Metrics</p>
  <p class="meta">Generated: <span id="ts"></span></p>
</header>
<main>

<!-- KPI Cards -->
<div class="kpi-grid" id="kpis"></div>

<!-- Charts -->
<div class="grid">
  <div class="card">
    <h2>Throughput vs Concurrency <span class="badge">Update + Query</span></h2>
    <canvas id="cThroughput"></canvas>
  </div>
  <div class="card">
    <h2>p95 Latency Under Load</h2>
    <canvas id="cLatency"></canvas>
  </div>
  <div class="card">
    <h2>Scalability: Latency vs N Certificates</h2>
    <canvas id="cScale"></canvas>
  </div>
  <div class="card">
    <h2>Finality Time CDF <span class="badge">ICP vs Ethereum</span></h2>
    <canvas id="cCDF"></canvas>
  </div>
  <div class="card">
    <h2>Call Latency Percentiles</h2>
    <canvas id="cPercentiles"></canvas>
  </div>
  <div class="card">
    <h2>Blockchain Finality Comparison</h2>
    <canvas id="cBlockchain"></canvas>
  </div>
</div>
</main>
<footer>ICP Credential Verification Research &mdash; Benchmark results are generated from mainnet measurements.</footer>

<script>

const CONCURRENCY_LEVELS = [1, 2, 5, 10, 20, 50];
const ISSUE_THROUGHPUT  = [0.47, 0.89, 2.18, 4.16, 6.53, 19.76];
const VERIFY_THROUGHPUT = [254.49, 240.66, 257.31, 234.78, 239.83, 213.78];
const ISSUE_P95_LATENCY = [2387.13, 2404.74, 2362.32, 2368.14, 2427.54, 2479.11];
const SCALE_NS          = [1, 10, 50, 100];
const SCALE_SEQ_P50     = [1745.65, 2119.86, 2106.17, 2045.56];
const SCALE_VER_P50     = [152.3, 137.85, 136.62, 140.25];
const FINALITY_TIMES    = [1707.1722566525991, 1860.9636961445829, 1884.349217685658, 1930.0141327586814, 1956.5440630740616, 1966.7622783737572, 1972.5748336180545, 1994.6974410207356, 2009.788802922658, 2022.2300258764562, 2031.870097604593, 2043.0114519496467, 2051.7639967614864, 2058.2048347895484, 2063.066952851769, 2065.8351367771866, 2081.869659728125, 2104.3321089494366, 2114.7902394577386, 2122.0458497437785, 2200.1206453141294, 2213.7656300039243, 2220.873386434199, 2281.7633545795516, 2330.4302937169696];
const QUERY_TIMES       = [800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800];
const CDF_BUCKETS       = [{"x_ms": 1707.17, "cdf": 0.02}, {"x_ms": 1729.24, "cdf": 0.04}, {"x_ms": 1752.51, "cdf": 0.06}, {"x_ms": 1791.67, "cdf": 0.08}, {"x_ms": 1844.08, "cdf": 0.1}, {"x_ms": 1846.86, "cdf": 0.12}, {"x_ms": 1860.96, "cdf": 0.14}, {"x_ms": 1884.35, "cdf": 0.16}, {"x_ms": 1888.23, "cdf": 0.18}, {"x_ms": 1890.06, "cdf": 0.2}, {"x_ms": 1900.94, "cdf": 0.22}, {"x_ms": 1930.01, "cdf": 0.24}, {"x_ms": 1956.54, "cdf": 0.26}, {"x_ms": 1966.76, "cdf": 0.28}, {"x_ms": 1970.86, "cdf": 0.3}, {"x_ms": 1972.57, "cdf": 0.32}, {"x_ms": 1992.03, "cdf": 0.34}, {"x_ms": 1994.28, "cdf": 0.36}, {"x_ms": 1994.7, "cdf": 0.38}, {"x_ms": 2009.79, "cdf": 0.4}, {"x_ms": 2022.23, "cdf": 0.42}, {"x_ms": 2022.31, "cdf": 0.44}, {"x_ms": 2024.76, "cdf": 0.46}, {"x_ms": 2031.87, "cdf": 0.48}, {"x_ms": 2032.02, "cdf": 0.5}, {"x_ms": 2043.01, "cdf": 0.52}, {"x_ms": 2049.76, "cdf": 0.54}, {"x_ms": 2051.76, "cdf": 0.56}, {"x_ms": 2058.2, "cdf": 0.58}, {"x_ms": 2063.07, "cdf": 0.6}, {"x_ms": 2064.4, "cdf": 0.62}, {"x_ms": 2065.84, "cdf": 0.64}, {"x_ms": 2072.7, "cdf": 0.66}, {"x_ms": 2081.87, "cdf": 0.68}, {"x_ms": 2084.89, "cdf": 0.7}, {"x_ms": 2090.71, "cdf": 0.72}, {"x_ms": 2104.33, "cdf": 0.74}, {"x_ms": 2106.26, "cdf": 0.76}, {"x_ms": 2114.79, "cdf": 0.78}, {"x_ms": 2122.05, "cdf": 0.8}, {"x_ms": 2187.61, "cdf": 0.82}, {"x_ms": 2200.12, "cdf": 0.84}, {"x_ms": 2213.77, "cdf": 0.86}, {"x_ms": 2220.87, "cdf": 0.88}, {"x_ms": 2243.78, "cdf": 0.9}, {"x_ms": 2248.86, "cdf": 0.92}, {"x_ms": 2275.28, "cdf": 0.94}, {"x_ms": 2281.76, "cdf": 0.96}, {"x_ms": 2314.23, "cdf": 0.98}, {"x_ms": 2330.43, "cdf": 1}];
const F_STATS = {"samples": 25, "min": 1707.1722566525991, "max": 2330.4302937169696, "mean": 2051.55, "stddev": 133.76, "p50": 2051.76, "p75": 2114.79, "p95": 2269.59, "p99": 2318.75};
const Q_STATS = {"samples": 25, "min": 800, "max": 800, "mean": 800, "stddev": 0, "p50": 800, "p75": 800, "p95": 800, "p99": 800};
const BLOCKCHAIN_CMP = {"ICP_update_p50_ms": 2051.76, "ICP_query_p50_ms": 800, "Ethereum_finality_ms": 12000, "Bitcoin_finality_ms": 3600000};
const GENERATED_AT = "2026-02-26T18:29:03.946739+00:00Z";

document.getElementById("ts").textContent = GENERATED_AT;

// KPIs
const kpiData = [
  { value: F_STATS.p50.toFixed(0),  unit: "ms",      label: "Update Call p50" },
  { value: F_STATS.p95.toFixed(0),  unit: "ms",      label: "Update Call p95" },
  { value: Q_STATS.p50.toFixed(0),  unit: "ms",      label: "Query Call p50"  },
  { value: Q_STATS.p95.toFixed(0),  unit: "ms",      label: "Query Call p95"  },
  { value: (F_STATS.p50/Q_STATS.p50).toFixed(0)+"×", unit: "faster", label: "Query vs Update" },
  { value: Math.max(...ISSUE_THROUGHPUT).toFixed(2), unit: "ops/s", label: "Peak Issue Throughput" },
];
const kpiEl = document.getElementById("kpis");
kpiData.forEach(k => {
  kpiEl.innerHTML += `<div class="kpi">
    <div class="value">${k.value}</div>
    <div class="unit">${k.unit}</div>
    <div class="label">${k.label}</div>
  </div>`;
});

// Helper
const rgb = (r,g,b,a=1) => `rgba(${r},${g},${b},${a})`;
const blue  = "#2563eb"; const green = "#16a34a";
const purp  = "#9333ea"; const ora   = "#ea580c";

// Chart 1: Throughput vs Concurrency
new Chart(document.getElementById("cThroughput"), {
  type:"line",
  data:{
    labels: CONCURRENCY_LEVELS,
    datasets:[
      {label:"Issuance (update)",data:ISSUE_THROUGHPUT,  borderColor:blue, backgroundColor:rgb(37,99,235,.1), fill:true},
      {label:"Verification (query)",data:VERIFY_THROUGHPUT,borderColor:green,backgroundColor:rgb(22,163,74,.1),fill:true},
    ]
  },
  options:{responsive:true,scales:{x:{title:{display:true,text:"Concurrent Requests"}},
    y:{title:{display:true,text:"ops/sec"}}}}
});

// Chart 2: p95 latency vs concurrency
new Chart(document.getElementById("cLatency"), {
  type:"bar",
  data:{labels:CONCURRENCY_LEVELS,
    datasets:[{label:"Issuance p95 (ms)",data:ISSUE_P95_LATENCY,backgroundColor:rgb(147,51,234,.7)}]},
  options:{responsive:true,scales:{x:{title:{display:true,text:"Concurrency"}},
    y:{title:{display:true,text:"p95 Latency (ms)"}}}}
});

// Chart 3: Scalability
new Chart(document.getElementById("cScale"), {
  type:"line",
  data:{labels:SCALE_NS.map(n=>"N="+n),
    datasets:[
      {label:"Issuance p50",data:SCALE_SEQ_P50,borderColor:purp,fill:false},
      {label:"Verification p50",data:SCALE_VER_P50,borderColor:green,fill:false},
    ]},
  options:{responsive:true,scales:{y:{title:{display:true,text:"p50 Latency (ms)"}}}}
});

// Chart 4: Finality CDF
const cdfX = CDF_BUCKETS.map(b=>b.x_ms);
const cdfY = CDF_BUCKETS.map(b=>b.cdf);
new Chart(document.getElementById("cCDF"), {
  type:"line",
  data:{labels:cdfX, datasets:[
    {label:"ICP Update Call CDF",data:cdfY,borderColor:blue,fill:false,pointRadius:0},
  ]},
  options:{responsive:true,scales:{
    x:{title:{display:true,text:"Time (ms)"},ticks:{maxTicksLimit:6}},
    y:{min:0,max:1,title:{display:true,text:"CDF"}}}}
});

// Chart 5: Percentiles bar
const pctLabels = ["p50","p75","p95","p99"];
new Chart(document.getElementById("cPercentiles"), {
  type:"bar",
  data:{labels:pctLabels,datasets:[
    {label:"Update Call (ms)",data:[F_STATS.p50,F_STATS.p75,F_STATS.p95,F_STATS.p99],
     backgroundColor:rgb(37,99,235,.7)},
    {label:"Query Call (ms)", data:[Q_STATS.p50,Q_STATS.p75,Q_STATS.p95,Q_STATS.p99],
     backgroundColor:rgb(22,163,74,.7)},
  ]},
  options:{responsive:true,scales:{y:{title:{display:true,text:"Latency (ms)"}}}}
});

    # Chart 6: Blockchain comparison (log scale)
new Chart(document.getElementById("cBlockchain"), {
  type:"bar",
  data:{labels:[
    "ICP Update
(measured)",
    "ICP Query
(measured)",
    "Ethereum
(checkpoint, 768s — spec¹)"
  ],
    datasets:[{label:"Finality (ms, log scale)",
      data:[BLOCKCHAIN_CMP.ICP_update_p50_ms, BLOCKCHAIN_CMP.ICP_query_p50_ms, BLOCKCHAIN_CMP.Ethereum_finality_ms],
      backgroundColor:[rgb(37,99,235,.8),rgb(22,163,74,.8),rgb(220,38,38,.8)]}]},
  options:{responsive:true,
    plugins:{tooltip:{callbacks:{label:ctx=>{
      const v=ctx.raw; return v<1000?v+' ms': v<60000?(v/1000).toFixed(1)+' s':(v/60000).toFixed(1)+' min';
    }}},
    subtitle:{display:true,text:[
      '¹ Ethereum: 2 Casper FFG epochs × 32 slots × 12s/slot = 768s (ethereum.org)',
      '  Bitcoin (~60 min, 6-confirmation convention) is off-scale and not shown.'
    ],font:{size:9},color:'#64748b'}},
    scales:{y:{type:"logarithmic",
      title:{display:true,text:"Finality (ms, log scale)"}}}}}
});
</script>
</body>
</html>